<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>To-Do List</h1>
        <input type="text" id="taskInput" placeholder="Enter task...">
        <button onclick="addTask()">Add Task</button>
        <ul id="taskList"></ul>
    </div>

    <script>
        // Carica i task dal Local Storage quando la pagina si carica
        window.onload = function() {
            loadTasks();
        };

        // Aggiunge un nuovo task alla lista e al Local Storage
        function addTask() {
            var taskInput = document.getElementById("taskInput");
            var taskList = document.getElementById("taskList");
            var task = taskInput.value;

            if (task.trim() !== "") {
                // Crea un nuovo elemento di lista
                var listItem = document.createElement("li");
                listItem.textContent = task;

                // Aggiungi il task alla lista visiva
                taskList.appendChild(listItem);

                // Aggiungi un pulsante di cancellazione
                var deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.onclick = function() {
                    deleteTask(listItem);
                };
                listItem.appendChild(deleteButton);

                // Salva il task nel Local Storage
                saveTask(task);

                // Resetta il campo di input
                taskInput.value = "";
            }
        }

        // Salva un task nel Local Storage
        function saveTask(task) {
            // Recupera i task esistenti dal Local Storage
            var tasks = JSON.parse(localStorage.getItem("tasks")) || [];

            // Aggiungi il nuovo task alla lista
            tasks.push(task);

            // Salva la lista aggiornata nel Local Storage
            localStorage.setItem("tasks", JSON.stringify(tasks));
        }

        // Carica i task dal Local Storage
        function loadTasks() {
            var taskList = document.getElementById("taskList");
            var tasks = JSON.parse(localStorage.getItem("tasks")) || [];

            // Aggiungi i task salvati alla lista visiva
            tasks.forEach(function(task) {
                var listItem = document.createElement("li");
                listItem.textContent = task;

                // Aggiungi un pulsante di cancellazione
                var deleteButton = document.createElement("button");
                deleteButton.textContent = "Delete";
                deleteButton.onclick = function() {
                    deleteTask(listItem);
                };
                listItem.appendChild(deleteButton);

                taskList.appendChild(listItem);
            });
        }

        // Rimuove un task dalla lista e dal Local Storage
        function deleteTask(taskItem) {
            var taskList = document.getElementById("taskList");
            taskList.removeChild(taskItem);

            // Rimuove il task dal Local Storage
            var tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            var taskIndex = Array.prototype.indexOf.call(taskList.children, taskItem);
            if (taskIndex !== -1) {
                tasks.splice(taskIndex, 1);
                localStorage.setItem("tasks", JSON.stringify(tasks));
            }
        }
    </script>
</body>
</html>

    </script>
</body>
</html>
